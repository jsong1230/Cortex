# 프로젝트 로드맵

## M0: 프로젝트 기반 구축 (Phase 0 -- 인프라)
- **기간**: 2~3일
- **목표**: 프로젝트 스캐폴딩, DB 마이그레이션, 개발 환경 설정, 시스템 설계
- **작업**:
  - /init-dev: Next.js 14 프로젝트 생성, Supabase 연결, Vercel Cron 설정, 텔레그램 봇 생성 (BotFather)
  - /design: ERD 설계, API 컨벤션, 디자인 시스템, 네비게이션 구조
  - DB 마이그레이션: content_items, briefings, user_interactions, interest_profile, alert_settings, keyword_contexts 테이블 생성
  - 환경 변수 설정: Supabase, Claude API, 텔레그램, 외부 API 키
- **완료 기준**: 프로젝트가 로컬에서 실행되고, Supabase DB 테이블이 생성되고, 텔레그램 봇 토큰이 발급됨

---

## M1: 핵심 파이프라인 (Phase 0 -- 뼈대, 1주차)
- **기간**: 1주
- **목표**: 콘텐츠 수집 -> AI 요약 -> 텔레그램 브리핑 발송의 기본 흐름 완성
- **기능**: F-01, F-02, F-03, F-04, F-05, F-06, F-07
- **완료 기준**:
  - 4채널(TECH/WORLD/CULTURE/TORONTO) 소스에서 콘텐츠가 수집된다
  - Claude API가 각 아이템에 1~2줄 요약을 생성한다
  - 매일 07:00에 텔레그램으로 5채널 구성 브리핑이 수신된다
  - 텔레그램 봇 명령어(/good, /bad, /save, /more 등)가 동작한다

---

## M2: 피드백 루프 (Phase 1, 2주차)
- **기간**: 1주
- **목표**: 웹 인터페이스 + 사용자 반응 수집 기반 구축
- **기능**: F-08, F-09, F-10, F-11, F-12
- **완료 기준**:
  - 웹 / 에서 오늘 브리핑이 카드 UI로 표시된다
  - 웹에서 좋아요/싫어요/저장/메모 반응이 DB에 저장된다
  - 텔레그램 인라인 버튼 반응도 DB에 저장된다
  - Supabase Auth + 텔레그램 로그인으로 웹 인증이 동작한다
  - /item/[id] 상세 페이지와 /history 히스토리 페이지가 동작한다

---

## M3: 학습/개인화 + 알림 (Phase 2, 3~4주차)
- **기간**: 2주
- **목표**: 반응 기반 학습으로 브리핑 개인화, 긴급 알림, 피로도 관리
- **기능**: F-13, F-14, F-15, F-16, F-17, F-20, F-23
- **완료 기준**:
  - pgvector 임베딩 + EMA 스코어가 다음날 브리핑 선정에 반영된다
  - 웹 /profile에서 관심사 토픽별 스코어가 시각화된다
  - 토론토 날씨 경보/관심 키워드 속보 긴급 알림이 발송된다
  - 평일/주말 브리핑 포맷이 분리된다 (주말 09:00, Weekly Digest 포함)
  - 7일 연속 무반응 시 아이템 수 자동 감소가 동작한다
  - 세렌디피티 채널이 브리핑에 1개 아이템을 포함한다
  - 웹 /settings에서 채널 ON/OFF, 알림 설정, RSS 관리가 가능하다
  - 1주 사용 후 브리핑 품질 체감 향상

---

## M4: My Life OS 연동 + 읽기 루프 (Phase 3, 5주차)
- **기간**: 1주
- **목표**: My Life OS 일기/메모 컨텍스트를 브리핑에 반영, 저장 아이템 라이프사이클 관리
- **기능**: F-18, F-19
- **완료 기준**:
  - My Life OS diary_entries/todos/notes에서 키워드가 추출되어 keyword_contexts에 저장된다
  - 컨텍스트 매칭 아이템에 "지난주 메모: {키워드} 관련" 이유가 표시된다
  - 저장 아이템에 상태(저장완료/읽는중/완독/보관)가 관리된다
  - 토요일 Weekly Digest에 미완독 리마인더가 포함된다
  - 일기 키워드가 다음날 브리핑에 반영됨

---

## M5: 인사이트 (Phase 4, 7~8주차)
- **기간**: 1~2주
- **목표**: 관심사 시각화, AI 리포트, 주간 요약으로 "나를 나보다 잘 아는 브리핑" 완성
- **기능**: F-21, F-22, F-24
- **완료 기준**:
  - 웹 /insights에서 관심사 지형도(버블 차트)가 시각화된다
  - 매월 1일에 AI 월간 리포트가 생성된다 (관심사 분석 + My Life OS 교차 인사이트)
  - 매주 토요일에 주간 AI 요약(기술 트렌드 3줄 + 세렌디피티 효과)이 포함된다
  - 나를 나보다 잘 아는 브리핑 체감

---

## M-final: 통합 테스트 + 운영 배포
- **기간**: 3~5일
- **목표**: 전체 파이프라인 안정성 검증, 프로덕션 배포, 모니터링 설정
- **작업**:
  - /test: 전체 기능 통합 테스트 (수집 -> 요약 -> 발송 -> 반응 -> 학습 -> 재발송 사이클)
  - /deploy: Vercel 프로덕션 배포, Cron Jobs 활성화, 텔레그램 웹훅 프로덕션 URL 등록
  - 모니터링: 수집 실패율, 브리핑 발송 성공률, Claude API 비용 추적
  - 콘텐츠 90일 아카이브 정책 적용
- **완료 기준**:
  - 7일간 무중단 브리핑 발송
  - 모든 채널 수집기가 안정적으로 동작
  - Claude API 일 비용이 $1 이하

---

## 타임라인 요약

| 마일스톤 | 기간 | 기능 수 | Phase |
|----------|------|---------|-------|
| M0: 기반 구축 | 2~3일 | 인프라 | Phase 0 |
| M1: 핵심 파이프라인 | 1주 | 7개 (F-01~F-07) | Phase 0 |
| M2: 피드백 루프 | 1주 | 5개 (F-08~F-12) | Phase 1 |
| M3: 학습/개인화 | 2주 | 7개 (F-13~F-17, F-20, F-23) | Phase 2 |
| M4: My Life OS 연동 | 1주 | 2개 (F-18, F-19) | Phase 3 |
| M5: 인사이트 | 1~2주 | 3개 (F-21, F-22, F-24) | Phase 4 |
| M-final: 통합/배포 | 3~5일 | 인프라 | - |
| **합계** | **약 8~9주** | **24개 기능** | |
