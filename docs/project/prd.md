# Cortex -- PRD

> 원본 PRD: [docs/PRD_Cortex.md](../PRD_Cortex.md) (v1.6, 600줄 상세 버전)

## 1. 프로젝트 개요
- **목적**: 매일 아침 7시, 사용자의 관심사/고민/컨텍스트를 이해하는 AI가 "오늘 꼭 읽어야 할 것"을 텔레그램으로 발송하는 개인 AI 브리핑 봇
- **대상 사용자**: jsong1230 (1인 전용) -- 50대 초반 CTO, 서울 거주, 한국-캐나다 원격 가족 생활 12년
- **핵심 가치**:
  - 정보가 나를 찾아온다 -- 내가 찾아가지 않아도 된다
  - 도구가 내 컨텍스트를 안다 -- 일기/메모/고민과 연결된 큐레이션
  - 반응이 학습으로 이어진다 -- 사용할수록 정확해지는 개인화

## 2. 핵심 기능 요약
| ID | 기능명 | 설명 | 우선순위 |
|----|--------|------|----------|
| F-01 | TECH 채널 수집 | HN, GitHub Trending, RSS, arXiv, Tech 블로그에서 기술 콘텐츠 수집 | P0 |
| F-02 | WORLD 채널 수집 | 네이버/다음/연합뉴스/BBC Korea/NYT에서 핵심 이슈 수집 | P0 |
| F-03 | CULTURE 채널 수집 | 네이버 실검, 멜론, 넷플릭스, 유튜브 트렌딩에서 문화 트렌드 수집 | P0 |
| F-04 | TORONTO 채널 수집 | Toronto Star, CBC, 토론토 날씨 등 가족 생활 맥락 수집 | P0 |
| F-05 | AI 요약/스코어링 | Claude API로 콘텐츠 1~2줄 요약 + 채널별 관심도 스코어링 | P0 |
| F-06 | 텔레그램 브리핑 발송 | 매일 07:00 5채널 구성 브리핑을 텔레그램으로 발송 | P0 |
| F-07 | 텔레그램 봇 명령어 | /good, /bad, /save, /more, /keyword, /stats, /mute 명령어 처리 | P0 |
| F-08 | 웹 브리핑 뷰어 | 오늘 브리핑 카드 UI + 피드백 버튼 (좋아요/싫어요/저장/메모) | P1 |
| F-09 | 웹 아이템 상세 | AI 요약 + 원문 링크 + 메모 입력 상세 페이지 | P1 |
| F-10 | 웹 브리핑 히스토리 | 날짜별 과거 브리핑 + 저장 목록 조회 | P1 |
| F-11 | 사용자 반응 수집 | 텔레그램/웹 양쪽에서 반응 로그를 수집하여 DB 저장 | P1 |
| F-12 | 인증 (Supabase Auth) | Supabase Auth + 텔레그램 로그인 위젯으로 웹 인증 | P1 |
| F-13 | 학습 엔진 (EMA 스코어링) | 반응 기반 관심사 토픽 EMA 업데이트 + pgvector 임베딩 | P1 |
| F-14 | 웹 관심사 프로필 | 토픽별 스코어 시각화 + 수동 추가/삭제/조정 | P1 |
| F-15 | 긴급 알림 시스템 | 토론토 날씨 경보, 관심 키워드 속보, My Life OS 매칭 등 Tier 2 알림 | P1 |
| F-16 | 평일/주말 브리핑 분리 | 평일 속도감 요약 vs 주말 Weekly Digest 포맷 분기 | P1 |
| F-17 | 피로도 방지 장치 | 채널 일시 중단, 방학 모드, 아이템 수 자동 조절, 중복 이슈 필터 | P1 |
| F-18 | My Life OS 컨텍스트 연동 | 일기/할일/메모 키워드 추출 + 브리핑 가중치 반영 + 이유 표시 | P2 |
| F-19 | 읽기 루프 (저장-완독-보관) | 저장 아이템 상태 관리 + 리마인더 시스템 | P2 |
| F-20 | 웹 설정 페이지 | RSS 소스 관리, 알림 설정, 채널 ON/OFF, My Life OS 연동 토글 | P1 |
| F-21 | 관심사 지형도 | 버블 차트로 관심사 시각화 | P2 |
| F-22 | AI 월간 리포트 | 월간 관심사 분석 + My Life OS 교차 인사이트 | P2 |
| F-23 | 세렌디피티 채널 | 전 채널 랜덤 + 관심사 인접 영역 추천 (역가중치) | P1 |
| F-24 | 주간 AI 요약 | 이번 주 기술 트렌드 3줄 요약 + 세렌디피티 효과 측정 | P2 |

## 3. 비기능 요구사항
- **성능**: 수집 파이프라인 06:30 시작 ~ 07:00 브리핑 발송 완료 (30분 이내). 채널별 독립 try/catch로 일부 소스 실패 시에도 발송 보장
- **보안**: 1인 사용 전용, Supabase RLS 정책, 크론 전용 키, 텔레그램 웹훅 시크릿 토큰, My Life OS 일기 원문 미저장 (키워드만 추출)
- **확장성**: 콘텐츠 90일 아카이브 정책, pgvector HNSW 인덱스, Claude API 캐싱으로 동일 URL 재요약 방지
- **비용**: Claude API 일 $0.5~1 목표, Vercel 무료 플랜, Supabase 무료/프로 플랜 (My Life OS와 공유)

## 4. 기술 스택
- **프레임워크**: Next.js 14 (App Router), TypeScript, Tailwind CSS
- **데이터베이스**: Supabase (PostgreSQL + pgvector)
- **인증**: Supabase Auth (텔레그램 로그인 위젯)
- **AI**: Claude API (anthropic SDK) -- 요약 + 큐레이션 + 월간 인사이트
- **봇**: 텔레그램 Bot API (node-telegram-bot-api)
- **스케줄러**: Vercel Cron Jobs
- **콘텐츠 수집**: RSS Parser + HN Firebase API + YouTube Data API + 네이버 데이터랩 API
- **배포**: Vercel

## 5. 범위 외 (Out of Scope)
- 다중 사용자 지원 (1인 전용)
- 모바일 네이티브 앱 (텔레그램 봇 + 반응형 웹으로 대체)
- 자체 뉴스레터 발행
- 소셜 공유 기능
- 유료화 / 과금 시스템

## 6. 성공 지표

| 지표 | 정의 | MVP 목표 | 6개월 목표 |
|------|------|----------|-----------|
| 일일 브리핑 오픈율 | 매일 아침 브리핑을 열어본 비율 | 70%+ | 85%+ |
| 피드백 반응률 | 브리핑 아이템에 좋아요/싫어요 반응 비율 | 40%+ | 65%+ |
| 웹 전환율 | 텔레그램에서 웹 상세보기 이동 비율 | 30%+ | 50%+ |
| 추천 체감 정확도 | 사용자 만족도 피드백 기준 | 기준선 측정 | 75%+ |
| My Life OS 연동 활성화율 | 메모/일기 연동 활성화 비율 | 해당 없음 | 60%+ |

## 7. 사용자 페르소나

| 항목 | 내용 |
|------|------|
| **프로필** | 50대 초반, CTO, 서울 거주, 한국-캐나다 원격 가족 생활 12년 |
| **기술 관심사** | LLM 인프라, 클라우드 비용 최적화, MSA, 팀 빌딩, 스타트업 전략 |
| **개인 생활** | 등산(주 2-3회), 골프(주 1회), 매주 가족 화상통화 |
| **정보 습관** | 아침 출근 전 텔레그램 확인, HN 주 3회, 뉴스레터 구독 중이지만 안 읽힘 |
| **연동 프로젝트** | My Life OS (Next.js + Supabase), Family Async Journal |
